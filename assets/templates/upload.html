{{template "header.html"}}

<script type='text/javascript' src='/static/js/main.js'></script>

<!-- Fixed navbar -->
 <nav layout="" text="upper big" text="navy white line-1" links="hover-white fadeIn">
    <div>
        <a href="http://partidopirata.org/">
            <img src="/static/img/Piratpartiet.svg" width="32px" height="32px" alt="Partido Pirata" />
        </a>
        <a href="/">apoio</a>
        <a href="/login/">login</a>
    </div>
</nav>

<section layout="center v-padding-30">

<h1>Upload Files <small>using XMLHttpRequest + HTML5 File API</small></h1>

<form id="form1" enctype="multipart/form-data" method="post" action="/upload">
<div class="panel panel-default">
<div class="panel-body">
    <div id='open_selector_div' >Select a File <b><a href="#" id="fakeFileSelect">click here</a></b></div>
    <input type="file" name="fileToUpload" id="fileToUpload" onchange="file_selected(this.files);" style='display:none;' multiple></input>
</div>
</div>

<div class="container-fluid">
<div class="row">
<div>
    <div id='file-info' style='display:none;'>
        <span>File Name: <span id="fileName" class='text-info'></span></span><br>
        <span>File Size: <span id="fileSize" class='text-info'></span></span><br>
        <span>File Type: <span id="fileType" class='text-info'></span></span><br>
        <br>
        <button type="button" class="btn btn-default" id='button_upload' onclick="upload()" disabled>transfer</button>
        <br>
        <br>
    </div>
</div>
<div>
    <div id="progress-main" style='display:none;'>
    <div id="progress" class='progress'>
        <div class="progress-bar" id="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">0%</div>
    </div>
    <div>
        <span>Received <span id='loaded' class="text-info"></span> of <span id='total' class="text-info"></span></span><br>
        <span>Transfer Rate: <span id='rate' class="text-info"></span></span><br>
        <span>Estimated Time Remaining: <span id='estimated' class="text-info"></span></span><br>
        <span>Elapsed Time: <span id='elapsed' class="text-info"></span></span>
    </div>
    </div><!--div id="progress-main"-->
</div>
</form>

<script type='text/javascript'>
    var fakeFileSelect = document.getElementById("fakeFileSelect"),
        realFileElem   = document.getElementById("fileToUpload");

    fakeFileSelect.addEventListener("click", function (e) {
        if (realFileElem) {
            realFileElem.click();
        }
        e.preventDefault(); // prevent navigation to "#"
    }, false);
</script>

<div id='results'></div>

</section>

{{template "footer.html"}}
